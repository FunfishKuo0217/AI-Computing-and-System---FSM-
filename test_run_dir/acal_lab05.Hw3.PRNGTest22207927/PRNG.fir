circuit PRNG :
  module PRNG :
    input clock : Clock
    input reset : UInt<1>
    output io : { flip gen : UInt<1>, puzzle : UInt<4>[4], ready : UInt<1>}

    reg state : UInt<3>, clock with :
      reset => (reset, UInt<3>("h0")) @[PRNG.scala 24:24]
    wire _WIRE : UInt<1>[16] @[PRNG.scala 27:35]
    _WIRE[0] <= UInt<1>("h1") @[PRNG.scala 27:35]
    _WIRE[1] <= UInt<1>("h1") @[PRNG.scala 27:35]
    _WIRE[2] <= UInt<1>("h1") @[PRNG.scala 27:35]
    _WIRE[3] <= UInt<1>("h1") @[PRNG.scala 27:35]
    _WIRE[4] <= UInt<1>("h1") @[PRNG.scala 27:35]
    _WIRE[5] <= UInt<1>("h1") @[PRNG.scala 27:35]
    _WIRE[6] <= UInt<1>("h1") @[PRNG.scala 27:35]
    _WIRE[7] <= UInt<1>("h1") @[PRNG.scala 27:35]
    _WIRE[8] <= UInt<1>("h1") @[PRNG.scala 27:35]
    _WIRE[9] <= UInt<1>("h1") @[PRNG.scala 27:35]
    _WIRE[10] <= UInt<1>("h1") @[PRNG.scala 27:35]
    _WIRE[11] <= UInt<1>("h1") @[PRNG.scala 27:35]
    _WIRE[12] <= UInt<1>("h1") @[PRNG.scala 27:35]
    _WIRE[13] <= UInt<1>("h1") @[PRNG.scala 27:35]
    _WIRE[14] <= UInt<1>("h1") @[PRNG.scala 27:35]
    _WIRE[15] <= UInt<1>("h1") @[PRNG.scala 27:35]
    reg shiftReg : UInt<1>[16], clock with :
      reset => (reset, _WIRE) @[PRNG.scala 27:27]
    wire _WIRE_1 : UInt<4>[4] @[PRNG.scala 28:33]
    _WIRE_1[0] <= UInt<4>("h0") @[PRNG.scala 28:33]
    _WIRE_1[1] <= UInt<4>("h0") @[PRNG.scala 28:33]
    _WIRE_1[2] <= UInt<4>("h0") @[PRNG.scala 28:33]
    _WIRE_1[3] <= UInt<4>("h0") @[PRNG.scala 28:33]
    reg regAns : UInt<4>[4], clock with :
      reset => (reset, _WIRE_1) @[PRNG.scala 28:25]
    wire _WIRE_2 : UInt<1>[6] @[PRNG.scala 29:33]
    _WIRE_2[0] <= UInt<1>("h1") @[PRNG.scala 29:33]
    _WIRE_2[1] <= UInt<1>("h1") @[PRNG.scala 29:33]
    _WIRE_2[2] <= UInt<1>("h1") @[PRNG.scala 29:33]
    _WIRE_2[3] <= UInt<1>("h1") @[PRNG.scala 29:33]
    _WIRE_2[4] <= UInt<1>("h1") @[PRNG.scala 29:33]
    _WIRE_2[5] <= UInt<1>("h1") @[PRNG.scala 29:33]
    reg regDup : UInt<1>[6], clock with :
      reset => (reset, _WIRE_2) @[PRNG.scala 29:25]
    reg goToRangeMap : UInt<1>, clock with :
      reset => (reset, UInt<1>("h0")) @[PRNG.scala 31:31]
    reg goToCheckDup : UInt<1>, clock with :
      reset => (reset, UInt<1>("h0")) @[PRNG.scala 32:31]
    reg goToValidateDup : UInt<1>, clock with :
      reset => (reset, UInt<1>("h0")) @[PRNG.scala 33:34]
    reg goToOutput : UInt<1>, clock with :
      reset => (reset, UInt<1>("h0")) @[PRNG.scala 34:29]
    reg goToReGen : UInt<1>, clock with :
      reset => (reset, UInt<1>("h0")) @[PRNG.scala 35:28]
    node _T = eq(UInt<3>("h0"), state) @[Conditional.scala 37:30]
    when _T : @[Conditional.scala 40:58]
      state <= UInt<3>("h1") @[PRNG.scala 39:26]
    else :
      node _T_1 = eq(UInt<3>("h1"), state) @[Conditional.scala 37:30]
      when _T_1 : @[Conditional.scala 39:67]
        state <= UInt<3>("h5") @[PRNG.scala 40:26]
      else :
        node _T_2 = eq(UInt<3>("h5"), state) @[Conditional.scala 37:30]
        when _T_2 : @[Conditional.scala 39:67]
          node _T_3 = eq(goToRangeMap, UInt<1>("h1")) @[PRNG.scala 41:38]
          when _T_3 : @[PRNG.scala 41:49]
            state <= UInt<3>("h2") @[PRNG.scala 41:57]
        else :
          node _T_4 = eq(UInt<3>("h2"), state) @[Conditional.scala 37:30]
          when _T_4 : @[Conditional.scala 39:67]
            node _T_5 = eq(goToCheckDup, UInt<1>("h1")) @[PRNG.scala 42:43]
            when _T_5 : @[PRNG.scala 42:54]
              state <= UInt<3>("h3") @[PRNG.scala 42:62]
          else :
            node _T_6 = eq(UInt<3>("h3"), state) @[Conditional.scala 37:30]
            when _T_6 : @[Conditional.scala 39:67]
              node _T_7 = eq(goToValidateDup, UInt<1>("h1")) @[PRNG.scala 43:45]
              when _T_7 : @[PRNG.scala 43:56]
                state <= UInt<3>("h4") @[PRNG.scala 43:64]
            else :
              node _T_8 = eq(UInt<3>("h4"), state) @[Conditional.scala 37:30]
              when _T_8 : @[Conditional.scala 39:67]
                node _T_9 = eq(goToReGen, UInt<1>("h1")) @[PRNG.scala 45:28]
                when _T_9 : @[PRNG.scala 45:39]
                  state <= UInt<3>("h1") @[PRNG.scala 45:47]
                else :
                  node _T_10 = eq(goToOutput, UInt<1>("h1")) @[PRNG.scala 46:34]
                  when _T_10 : @[PRNG.scala 46:45]
                    state <= UInt<3>("h6") @[PRNG.scala 46:53]
              else :
                node _T_11 = eq(UInt<3>("h6"), state) @[Conditional.scala 37:30]
                when _T_11 : @[Conditional.scala 39:67]
                  node _T_12 = eq(io.gen, UInt<1>("h1")) @[PRNG.scala 48:34]
                  when _T_12 : @[PRNG.scala 48:45]
                    state <= UInt<3>("h0") @[PRNG.scala 48:53]
    io.ready <= UInt<1>("h0") @[PRNG.scala 52:14]
    wire _WIRE_3 : UInt<4>[4] @[PRNG.scala 53:25]
    _WIRE_3[0] <= UInt<4>("h0") @[PRNG.scala 53:25]
    _WIRE_3[1] <= UInt<4>("h0") @[PRNG.scala 53:25]
    _WIRE_3[2] <= UInt<4>("h0") @[PRNG.scala 53:25]
    _WIRE_3[3] <= UInt<4>("h0") @[PRNG.scala 53:25]
    io.puzzle[0] <= _WIRE_3[0] @[PRNG.scala 53:15]
    io.puzzle[1] <= _WIRE_3[1] @[PRNG.scala 53:15]
    io.puzzle[2] <= _WIRE_3[2] @[PRNG.scala 53:15]
    io.puzzle[3] <= _WIRE_3[3] @[PRNG.scala 53:15]
    node _T_13 = eq(state, UInt<3>("h1")) @[PRNG.scala 59:16]
    when _T_13 : @[PRNG.scala 59:26]
      goToReGen <= UInt<1>("h0") @[PRNG.scala 60:19]
      goToOutput <= UInt<1>("h0") @[PRNG.scala 61:20]
      shiftReg[0] <= shiftReg[1] @[PRNG.scala 62:54]
      shiftReg[1] <= shiftReg[2] @[PRNG.scala 62:54]
      shiftReg[2] <= shiftReg[3] @[PRNG.scala 62:54]
      shiftReg[3] <= shiftReg[4] @[PRNG.scala 62:54]
      shiftReg[4] <= shiftReg[5] @[PRNG.scala 62:54]
      shiftReg[5] <= shiftReg[6] @[PRNG.scala 62:54]
      shiftReg[6] <= shiftReg[7] @[PRNG.scala 62:54]
      shiftReg[7] <= shiftReg[8] @[PRNG.scala 62:54]
      shiftReg[8] <= shiftReg[9] @[PRNG.scala 62:54]
      shiftReg[9] <= shiftReg[10] @[PRNG.scala 62:54]
      shiftReg[10] <= shiftReg[11] @[PRNG.scala 62:54]
      shiftReg[11] <= shiftReg[12] @[PRNG.scala 62:54]
      shiftReg[12] <= shiftReg[13] @[PRNG.scala 62:54]
      shiftReg[13] <= shiftReg[14] @[PRNG.scala 62:54]
      shiftReg[14] <= shiftReg[15] @[PRNG.scala 62:54]
      shiftReg[15] <= shiftReg[0] @[PRNG.scala 62:54]
      node _T_14 = xor(shiftReg[0], shiftReg[2]) @[PRNG.scala 63:38]
      node _T_15 = xor(_T_14, shiftReg[3]) @[PRNG.scala 63:51]
      node _T_16 = xor(_T_15, shiftReg[5]) @[PRNG.scala 63:64]
      shiftReg[15] <= _T_16 @[PRNG.scala 63:22]
    node _T_17 = eq(state, UInt<3>("h5")) @[PRNG.scala 65:16]
    when _T_17 : @[PRNG.scala 65:25]
      node lo = cat(shiftReg[1], shiftReg[0]) @[Cat.scala 30:58]
      node hi = cat(shiftReg[3], shiftReg[2]) @[Cat.scala 30:58]
      node _T_18 = cat(hi, lo) @[Cat.scala 30:58]
      regAns[0] <= _T_18 @[PRNG.scala 66:19]
      node lo_1 = cat(shiftReg[5], shiftReg[4]) @[Cat.scala 30:58]
      node hi_1 = cat(shiftReg[7], shiftReg[6]) @[Cat.scala 30:58]
      node _T_19 = cat(hi_1, lo_1) @[Cat.scala 30:58]
      regAns[1] <= _T_19 @[PRNG.scala 67:19]
      node lo_2 = cat(shiftReg[9], shiftReg[8]) @[Cat.scala 30:58]
      node hi_2 = cat(shiftReg[11], shiftReg[10]) @[Cat.scala 30:58]
      node _T_20 = cat(hi_2, lo_2) @[Cat.scala 30:58]
      regAns[2] <= _T_20 @[PRNG.scala 68:19]
      node lo_3 = cat(shiftReg[13], shiftReg[12]) @[Cat.scala 30:58]
      node hi_3 = cat(shiftReg[15], shiftReg[14]) @[Cat.scala 30:58]
      node _T_21 = cat(hi_3, lo_3) @[Cat.scala 30:58]
      regAns[3] <= _T_21 @[PRNG.scala 69:19]
      reg REG : UInt<1>, clock with :
        reset => (UInt<1>("h0"), REG) @[PRNG.scala 70:32]
      REG <= UInt<1>("h1") @[PRNG.scala 70:32]
      goToRangeMap <= REG @[PRNG.scala 70:22]
    node _T_22 = eq(state, UInt<3>("h2")) @[PRNG.scala 72:16]
    when _T_22 : @[PRNG.scala 72:30]
      goToRangeMap <= UInt<1>("h0") @[PRNG.scala 73:22]
      node _T_23 = gt(regAns[0], UInt<4>("h9")) @[PRNG.scala 74:36]
      node _T_24 = sub(regAns[0], UInt<4>("ha")) @[PRNG.scala 74:53]
      node _T_25 = tail(_T_24, 1) @[PRNG.scala 74:53]
      node _T_26 = mux(_T_23, _T_25, regAns[0]) @[PRNG.scala 74:25]
      regAns[0] <= _T_26 @[PRNG.scala 74:19]
      node _T_27 = gt(regAns[1], UInt<4>("h9")) @[PRNG.scala 75:36]
      node _T_28 = sub(regAns[1], UInt<4>("ha")) @[PRNG.scala 75:53]
      node _T_29 = tail(_T_28, 1) @[PRNG.scala 75:53]
      node _T_30 = mux(_T_27, _T_29, regAns[1]) @[PRNG.scala 75:25]
      regAns[1] <= _T_30 @[PRNG.scala 75:19]
      node _T_31 = gt(regAns[2], UInt<4>("h9")) @[PRNG.scala 76:36]
      node _T_32 = sub(regAns[2], UInt<4>("ha")) @[PRNG.scala 76:53]
      node _T_33 = tail(_T_32, 1) @[PRNG.scala 76:53]
      node _T_34 = mux(_T_31, _T_33, regAns[2]) @[PRNG.scala 76:25]
      regAns[2] <= _T_34 @[PRNG.scala 76:19]
      node _T_35 = gt(regAns[3], UInt<4>("h9")) @[PRNG.scala 77:36]
      node _T_36 = sub(regAns[3], UInt<4>("ha")) @[PRNG.scala 77:53]
      node _T_37 = tail(_T_36, 1) @[PRNG.scala 77:53]
      node _T_38 = mux(_T_35, _T_37, regAns[3]) @[PRNG.scala 77:25]
      regAns[3] <= _T_38 @[PRNG.scala 77:19]
      reg REG_1 : UInt<1>, clock with :
        reset => (UInt<1>("h0"), REG_1) @[PRNG.scala 78:32]
      REG_1 <= UInt<1>("h1") @[PRNG.scala 78:32]
      goToCheckDup <= REG_1 @[PRNG.scala 78:22]
    node _T_39 = eq(state, UInt<3>("h3")) @[PRNG.scala 80:16]
    when _T_39 : @[PRNG.scala 80:30]
      goToCheckDup <= UInt<1>("h0") @[PRNG.scala 81:22]
      node _T_40 = eq(regAns[0], regAns[1]) @[PRNG.scala 83:36]
      node _T_41 = mux(_T_40, UInt<1>("h1"), UInt<1>("h0")) @[PRNG.scala 83:25]
      regDup[0] <= _T_41 @[PRNG.scala 83:19]
      node _T_42 = eq(regAns[0], regAns[2]) @[PRNG.scala 84:36]
      node _T_43 = mux(_T_42, UInt<1>("h1"), UInt<1>("h0")) @[PRNG.scala 84:25]
      regDup[1] <= _T_43 @[PRNG.scala 84:19]
      node _T_44 = eq(regAns[0], regAns[3]) @[PRNG.scala 85:36]
      node _T_45 = mux(_T_44, UInt<1>("h1"), UInt<1>("h0")) @[PRNG.scala 85:25]
      regDup[2] <= _T_45 @[PRNG.scala 85:19]
      node _T_46 = eq(regAns[1], regAns[2]) @[PRNG.scala 86:36]
      node _T_47 = mux(_T_46, UInt<1>("h1"), UInt<1>("h0")) @[PRNG.scala 86:25]
      regDup[3] <= _T_47 @[PRNG.scala 86:19]
      node _T_48 = eq(regAns[1], regAns[3]) @[PRNG.scala 87:36]
      node _T_49 = mux(_T_48, UInt<1>("h1"), UInt<1>("h0")) @[PRNG.scala 87:25]
      regDup[4] <= _T_49 @[PRNG.scala 87:19]
      node _T_50 = eq(regAns[2], regAns[3]) @[PRNG.scala 88:36]
      node _T_51 = mux(_T_50, UInt<1>("h1"), UInt<1>("h0")) @[PRNG.scala 88:25]
      regDup[5] <= _T_51 @[PRNG.scala 88:19]
      reg REG_2 : UInt<1>, clock with :
        reset => (UInt<1>("h0"), REG_2) @[PRNG.scala 89:35]
      REG_2 <= UInt<1>("h1") @[PRNG.scala 89:35]
      goToValidateDup <= REG_2 @[PRNG.scala 89:25]
    node _T_52 = eq(state, UInt<3>("h4")) @[PRNG.scala 91:16]
    when _T_52 : @[PRNG.scala 91:28]
      goToValidateDup <= UInt<1>("h0") @[PRNG.scala 92:25]
      node _T_53 = or(regDup[0], regDup[1]) @[PRNG.scala 93:44]
      node _T_54 = or(_T_53, regDup[2]) @[PRNG.scala 93:55]
      node _T_55 = or(_T_54, regDup[3]) @[PRNG.scala 93:66]
      node _T_56 = or(_T_55, regDup[4]) @[PRNG.scala 93:77]
      node _T_57 = or(_T_56, regDup[5]) @[PRNG.scala 93:88]
      node _T_58 = eq(_T_57, UInt<1>("h1")) @[PRNG.scala 93:100]
      node _T_59 = mux(_T_58, UInt<1>("h1"), UInt<1>("h0")) @[PRNG.scala 93:33]
      reg REG_3 : UInt<1>, clock with :
        reset => (UInt<1>("h0"), REG_3) @[PRNG.scala 93:29]
      REG_3 <= _T_59 @[PRNG.scala 93:29]
      goToReGen <= REG_3 @[PRNG.scala 93:19]
      node _T_60 = or(regDup[0], regDup[1]) @[PRNG.scala 94:45]
      node _T_61 = or(_T_60, regDup[2]) @[PRNG.scala 94:56]
      node _T_62 = or(_T_61, regDup[3]) @[PRNG.scala 94:67]
      node _T_63 = or(_T_62, regDup[4]) @[PRNG.scala 94:78]
      node _T_64 = or(_T_63, regDup[5]) @[PRNG.scala 94:89]
      node _T_65 = eq(_T_64, UInt<1>("h0")) @[PRNG.scala 94:101]
      node _T_66 = mux(_T_65, UInt<1>("h1"), UInt<1>("h0")) @[PRNG.scala 94:34]
      reg REG_4 : UInt<1>, clock with :
        reset => (UInt<1>("h0"), REG_4) @[PRNG.scala 94:30]
      REG_4 <= _T_66 @[PRNG.scala 94:30]
      goToOutput <= REG_4 @[PRNG.scala 94:20]
    node _T_67 = eq(state, UInt<3>("h6")) @[PRNG.scala 96:16]
    when _T_67 : @[PRNG.scala 96:28]
      goToOutput <= UInt<1>("h0") @[PRNG.scala 97:20]
      goToReGen <= UInt<1>("h0") @[PRNG.scala 98:19]
      io.puzzle[0] <= regAns[0] @[PRNG.scala 99:22]
      io.puzzle[1] <= regAns[1] @[PRNG.scala 100:22]
      io.puzzle[2] <= regAns[2] @[PRNG.scala 101:22]
      io.puzzle[3] <= regAns[3] @[PRNG.scala 102:22]
      reg REG_5 : UInt<1>, clock with :
        reset => (UInt<1>("h0"), REG_5) @[PRNG.scala 103:28]
      REG_5 <= UInt<1>("h1") @[PRNG.scala 103:28]
      io.ready <= REG_5 @[PRNG.scala 103:18]

